# Improve the Ludics Dashboard

Harness task: task-144

## Motivation

The ludics dashboard is the primary visual interface for monitoring slots, tasks, sessions, and Mag activity. The current implementation provides a functional foundation — a 3x2 slot grid, ready queue sidebar, notifications, Mag status, and separate pages for terminals, tasks, and briefings — but lacks the depth needed for day-to-day workflow management.

The user's stated priority: "First on the dashboard, and then on workflows for starting/executing tasks. Not entirely clear feature wise." This proposal captures the current state and proposes concrete improvement directions to guide iterative development.

## Current State

The dashboard lives in `harness/dashboard/` as a static HTML/JS application served by `ludics dashboard serve` on port 7678. Data comes from JSON files in `dashboard/data/` generated by `ludics dashboard generate`.

**Pages:**
- `index.html` — Main dashboard: 6 slot tiles (3x2 grid), ready queue (top 5), notifications, Mag status, quick links
- `terminals.html` — Terminal/session management view
- `tasks.html` — Task list view
- `briefing.html` — Briefing display

**Data files** (`dashboard/data/`):
- `slots.json` — Current slot assignments and status
- `ready.json` — Priority-sorted ready queue
- `notifications.json` — Recent notifications
- `mag.json` — Mag coordinator status
- `briefing.json` — Latest briefing content
- `tasks-tree.json` — Task dependency tree
- `mayor.json` — (purpose unclear)

**Architecture:**
- `dashboard.js` — Single JS file, fetches all JSON every 10s, updates DOM
- `style.css` — Styling
- No build system, no framework — vanilla HTML/JS/CSS
- No server-side logic — pure static files + JSON

Key files:
- `harness/dashboard/` — all dashboard files
- `ludics/src/dashboard.sh` (or equivalent) — `ludics dashboard generate` command that produces JSON from state files
- `harness/slots.md`, `harness/briefing.md`, `harness/sessions.md` — source state files

## Proposed Change

Iterative improvements across several directions. Not all need to happen at once — each is independently valuable.

**1. Slot tiles with richer context.** Currently slots show basic status. Add:
- Task title and priority badge
- Time-in-slot (started N days ago)
- Stalled indicator (visual warning when > 7 days without activity)
- Session activity indicator (green dot if active session detected)
- Link to task file / GitHub issue
- Quick actions (clear, reassign) if autonomy level allows

**2. Task workflow actions.** The user wants "workflows for starting/executing tasks":
- "Start session" button on slot tiles that triggers `ludics slot N start`
- Adapter selection (agent-duo, claude-code, manual) when launching
- Task assignment from the ready queue via drag-and-drop or click-to-assign
- Proposal status indicator (has proposal? link to it)

**3. Better briefing integration.** The briefing page displays the latest briefing. Enhance:
- Inline slot assignment suggestions with one-click execution
- Stalled work warnings with direct action buttons
- Ready queue with priority highlighting

**4. Live session monitoring.** The terminals page could show:
- Active tmux sessions matched to slots
- Session classification (classified vs unclassified)
- Last activity timestamps
- Link to open terminal (if desktop)

**5. Notifications with actions.** Currently read-only. Add:
- Mark-as-read
- Reply/action buttons for proposals (launch agent-duo, pair-codex, etc.)
- Filter by type (proposals, health alerts, inbox)

**6. Task dependency visualization.** The `tasks-tree.json` data exists. Display:
- Dependency graph or tree view
- Blocked/unblocked status
- Critical path highlighting

**Acceptance criteria** (to be refined per iteration):
- Dashboard accurately reflects current slot state, including stalled indicators
- At least one workflow action works end-to-end (e.g., assign task to slot from ready queue)
- Mobile-friendly layout (user receives notifications on phone and may check dashboard there)

## Scope

**In scope:**
- Frontend improvements to existing dashboard pages
- New data fields in JSON generation (`ludics dashboard generate`)
- Interactive actions that call ludics CLI commands
- Responsive/mobile-friendly layout adjustments

**Out of scope:**
- Backend server (keep it static files + optional CLI calls)
- Authentication/multi-user (single-user tool)
- Framework migration (stay vanilla JS unless complexity demands it)
- Real-time WebSocket updates (polling every 10s is sufficient)

**Dependencies:**
- The dashboard reads from `ludics dashboard generate` output. New data fields may require changes to the ludics CLI (`~/ludics/src/`).
- Workflow actions depend on the ludics CLI being available on the server.
